<ion-content class="background">
  <ion-card class="cardCenter" id="container">
    <div class="titleAnimado">
      <h1 class="title text1 ion-text-center">
        <ng-container *ngIf="student; else loadingSkeleton">
          <p><b>Nombre Estudiante</b></p>
          <p><b><span class="mayusculas">{{ student.primer_nombre }} {{ student.primer_apellido }}</span></b></p>
        </ng-container>
        <ng-template #loadingSkeleton>
          <ion-skeleton-text animated style="width: 100%;"></ion-skeleton-text>
        </ng-template>
      </h1>
    </div>
    <ng-container *ngIf="student; else imgSkeleton">
      <ng-container *ngIf="student.genero === 'M'; else femaleStudent">
        <img src="../../../assets/img/5.png" width="150px" height="150px" />
      </ng-container>
      <ng-template #femaleStudent>
        <img src="../../../assets/img/6.png" width="150px" height="150px" />
      </ng-template>
    </ng-container>
    
    <ng-template #imgSkeleton>
      <!-- Display skeleton text if student does not exist -->
      <ion-skeleton-text animated style="width: 150px; height: 150px;"></ion-skeleton-text>
    </ng-template>
    
    <ion-accordion-group [multiple]="true" [value]="['first',]">
      <ion-accordion value="first">
        <ion-item slot="header" color="light">
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-label>Datos del Estudiante</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content" style="text-align: left;">
          <ng-container *ngIf="student; else dataSkeleton">
            <div><b>Nombre Completo:</b> {{ student.primer_nombre }} {{ student.segundo_nombre }} {{
              student.primer_apellido }} {{ student.segundo_apellido }}</div>
            <div><b>Rut:</b> {{ student.rut | rutFormat}}-{{ student.dv }}</div>
            <div><b>Fecha Nacimiento:</b> {{ student.fecha_nacimiento }}</div>
            <div><b>Alergico a:</b> {{ student.alergico }}</div>
            <div><b>Telefono de Contacto:</b> {{ student.telefono_contacto }}</div>
          </ng-container>
        </div>
      </ion-accordion>
      <ion-accordion value="second">
        <ion-item slot="header" color="light">
          <ion-icon name="people-outline" slot="start"></ion-icon>
          <ion-label>Datos del Curso</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content" style="text-align: left;">
          <ng-container *ngIf="student; else courseSkeleton">
            <div><b>Curso:</b> {{ student.curso[0].nombre }}</div>
            <div><b>Descripción del Curso:</b> {{ student.curso[0].descripcion }}</div>
          </ng-container>
        </div>
      </ion-accordion>
    </ion-accordion-group>
  </ion-card>
</ion-content>

<ng-template #dataSkeleton>
  <ion-skeleton-text animated style="width: 90%;"></ion-skeleton-text>
  <!-- Repite para cada línea de información que necesite un esqueleto -->
</ng-template>

<ng-template #courseSkeleton>
  <ion-skeleton-text animated style="width: 90%;"></ion-skeleton-text>
  <!-- Repite para cada línea de información del curso que necesite un esqueleto -->
</ng-template>